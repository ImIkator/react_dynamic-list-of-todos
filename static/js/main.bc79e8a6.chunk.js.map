{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","state","sortBy","query","handleChanges","event","target","name","value","setState","this","props","todos","selectedUserId","onSelect","filtered","filter","todo","title","toLowerCase","includes","completed","className","type","onChange","placeholder","map","classNames","htmlFor","checked","readOnly","userId","onClick","id","React","PureComponent","BASE_URL","CurrentUser","user","load","prevProps","a","fetch","then","response","json","clear","email","phone","App","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc79e8a6.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport './TodoList.scss';\n\nimport { Todo } from '../../react-app-env';\n\ntype Props = {\n  todos: Todo[];\n  selectedUserId: number;\n  onSelect: (userId: number) => void;\n};\n\ntype State = {\n  sortBy: string,\n  query: string,\n};\n\nexport class TodoList extends React.PureComponent<Props, State> {\n  state: State = {\n    sortBy: 'all',\n    query: '',\n  };\n\n  handleChanges = (\n    event: React.ChangeEvent<HTMLInputElement> | React.ChangeEvent<HTMLSelectElement>,\n  ) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    } as Pick<State, 'sortBy' | 'query'>);\n  };\n\n  render() {\n    const { todos, selectedUserId, onSelect } = this.props;\n    const { sortBy, query } = this.state;\n\n    const filtered = todos.filter((todo) => {\n      if (query) {\n        return (\n          todo.title !== null && todo.title.toLowerCase().includes(query.toLowerCase())\n        );\n      }\n\n      return todo;\n    }).filter((todo) => {\n      if (sortBy === 'active') {\n        return !todo.completed;\n      }\n\n      if (sortBy === 'completed') {\n        return todo.completed;\n      }\n\n      return todo;\n    });\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <div className=\"TodoList__list-container\">\n          <input\n            type=\"text\"\n            name=\"query\"\n            value={query}\n            onChange={this.handleChanges}\n            placeholder=\"Search\"\n          />\n\n          <select\n            name=\"sortBy\"\n            value={sortBy}\n            onChange={this.handleChanges}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n\n          <ul className=\"TodoList__list\">\n            {filtered.map((todo) => (\n              <li\n                key={todo.id}\n                className={classNames(\n                  'TodoList__item',\n                  {\n                    'TodoList__item--checked': todo.completed,\n                  },\n                  { 'TodoList__item--unchecked': !todo.completed },\n                )}\n              >\n                <label htmlFor=\"todoStatus\">\n                  <input type=\"checkbox\" checked={todo.completed} readOnly />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames('TodoList__user-button button',\n                    { 'TodoList__user-button--selected': todo.userId === selectedUserId })}\n                  type=\"button\"\n                  onClick={() => onSelect(todo.userId)}\n                >\n                  User&nbsp;#\n                  {todo.userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api';\n\nexport const getUsers = (userId: number) => {\n  return fetch(`${BASE_URL}/users/${userId}`)\n    .then(response => response.json());\n};\n\nexport const getTodos = () => {\n  return fetch(`${BASE_URL}/todos`)\n    .then(response => response.json());\n};\n","import React from 'react';\n\nimport { User } from '../../react-app-env';\nimport { getUsers } from '../../api';\n\nimport './CurrentUser.scss';\n\ntype Props = {\n  userId: number;\n  clear: () => void;\n};\n\ntype State = {\n  user: User | null;\n};\n\nexport class CurrentUser extends React.PureComponent<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  componentDidMount() {\n    this.load();\n  }\n\n  componentDidUpdate(prevProps: { userId: number; }) {\n    if (prevProps.userId !== this.props.userId) {\n      this.load();\n    }\n  }\n\n  async load() {\n    const user = await getUsers(this.props.userId);\n\n    this.setState({ user });\n  }\n\n  render(): React.ReactNode {\n    const { clear } = this.props;\n    const { user } = this.state;\n\n    return (\n      <div className=\"CurrentUser\">\n        {user && (\n          <>\n            <h2 className=\"CurrentUser__title\">\n              <span>\n                Selected user:\n                {user.id}\n              </span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n            <button\n              type=\"button\"\n              className=\"CurrentUser__clear\"\n              onClick={clear}\n            >\n              Clear\n            </button>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/* eslint-disable react/no-unused-state */\nimport React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nimport { getTodos } from './api';\nimport { Todo } from './react-app-env';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 1,\n    todos: [],\n  };\n\n  componentDidMount() {\n    this.load();\n  }\n\n  onSelect = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  clear = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  async load() {\n    this.setState({ todos: await getTodos() });\n  }\n\n  render() {\n    const { selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={this.state.todos}\n            selectedUserId={this.state.selectedUserId}\n            onSelect={this.onSelect}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clear={this.clear}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}